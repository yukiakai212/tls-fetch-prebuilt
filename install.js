import{execSync as u}from"node:child_process";import t from"node:path";import r from"node:fs";import{loadBinding as m}from"@node-rs/helper";import{glob as d}from"glob";var e={name:"@yukiakai/tls-fetch",version:"1.1.0",description:"Rust native module with JA3/TLS spoofing",type:"module",main:"index.cjs",releaseBinary:"bin",exports:{import:"./index.mjs",require:"./index.cjs"},files:["index.cjs","index.mjs","index.d.ts","install.js","bin/*"],os:["linux","win32"],cpu:["x64"],napi:{name:"tls-fetch",triples:{defaults:!1,additional:["x86_64-pc-windows-msvc","x86_64-unknown-linux-gnu"]}},scripts:{test:"npx @napi-rs/cli build && vitest run --reporter verbose",release:"npm run build && node publish.js",build:"npx @napi-rs/cli build --release --platform --config package.json",install:"node install.js"},keywords:["tls-fetch"],author:"Yuki_akai",homepage:"https://github.com/yukiakai212/tls-fetch-prebuilt",engines:{node:">= 16"},maintainers:[{name:"Yuki_akai",homepage:"https://github.com/yukiakai212"}],repository:{type:"git",url:"git+https://github.com/yukiakai212/tls-fetch-prebuilt.git"},bugs:{url:"https://github.com/yukiakai212/tls-fetch-prebuilt/issues"},license:"ISC",dependencies:{"@node-rs/helper":"^1.6.0","fs-extra":"^11.3.0",glob:"^11.0.3"},devDependencies:{"@napi-rs/cli":"^2.18.4",dotenv:"^17.0.0",esbuild:"^0.25.5","esbuild-node-externals":"^1.18.0","proxy-chain":"^2.5.9",vitest:"^3.2.4"}};try{m(t.join(import.meta.dirname,e.releaseBinary),e.napi.name,e.name)}catch(s){console.log(s),console.warn("\u26A0 No prebuilt binary found. Attempting to build from source....");let o={stdio:"inherit",cwd:import.meta.dirname},n=t.join(import.meta.dirname,e.releaseBinary);r.existsSync(n)||r.mkdirSync(n,{recursive:!0});try{u("npm run build",o),d("*.node").then(i=>{let a=t.join(import.meta.dirname,i[0]),l=t.join(n,i[0]);r.renameSync(a,l)})}catch(i){console.error("\u274C Build failed."),console.log(i)}}var k=!0;export{k as default};
