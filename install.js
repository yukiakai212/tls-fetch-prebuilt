import{execSync as p}from"node:child_process";import t from"node:path";import o from"node:fs";import{loadBinding as u}from"@node-rs/helper";import{glob as d}from"glob";var e={name:"@yukiakai/tls-fetch",version:"1.0.6",description:"Rust native module with JA3/TLS spoofing",type:"module",main:"index.cjs",releaseBinary:"bin",exports:{import:"./index.mjs",require:"./index.cjs"},files:["index.cjs","index.mjs","index.d.ts","install.js","bin/*"],os:["linux","win32"],cpu:["x64"],napi:{name:"tls-fetch",triples:{defaults:!1,additional:["x86_64-pc-windows-msvc","x86_64-unknown-linux-gnu"]}},scripts:{release:"npm run build && node publish.js",build:"npx @napi-rs/cli build --release --platform --config package.json",install:"node install.js"},keywords:["tls-fetch"],author:"Yuki_akai",homepage:"https://github.com/yukiakai212/tls-fetch-prebuilt",engines:{node:">= 16"},maintainers:[{name:"Yuki_akai",homepage:"https://github.com/yukiakai212"}],repository:{type:"git",url:"git+https://github.com/yukiakai212/tls-fetch-prebuilt.git"},bugs:{url:"https://github.com/yukiakai212/tls-fetch-prebuilt/issues"},license:"ISC",dependencies:{"@node-rs/helper":"^1.6.0","fs-extra":"^11.3.0",glob:"^11.0.3"},devDependencies:{"@napi-rs/cli":"^2.18.4",esbuild:"^0.25.5","esbuild-node-externals":"^1.18.0"}};try{u(t.join(import.meta.dirname,e.releaseBinary),e.napi.name,e.name)}catch(r){console.log(r),console.warn("\u26A0 No prebuilt binary found. Attempting to build from source....");let s={stdio:"inherit",cwd:import.meta.dirname},n=t.join(import.meta.dirname,e.releaseBinary);o.existsSync(n)||o.mkdirSync(n,{recursive:!0});try{p("npm run build",s),d("*.node").then(i=>{let a=t.join(import.meta.dirname,i[0]),l=t.join(n,i[0]);o.renameSync(a,l)})}catch(i){console.error("\u274C Build failed."),console.log(i)}}var x=!0;export{x as default};
